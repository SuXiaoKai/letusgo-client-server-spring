<section>
  <div class="panel panel-default">
    <div class="panel-heading">
      <h1>ProductManage</h1>
    </div>
    <div class="panel-body" id="category_panel">
      <div class="row form-group">
        <div class="col-md-3 text-center">
          <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-search"></span></span>
            <input type="text" class="form-control" ng-model="query">
          </div>
        </div>
        <div class="col-md-2 text-center">
          <a href=".mymodal" data-toggle="modal" ><h4>Add a product</h4></a>
        </div>
      </div>
      <div class='row text-center form-group'>
        <div class='col-xs-2 h3'>category</div>
        <div class='col-xs-3 h3'>name</div>
        <div class='col-xs-3 h3'>unit</div>
        <div class='col-xs-2 h3'>price</div>
        <div class="col-xs-2 h3">operate</div>
      </div>
      <div ng-repeat="product in products | filter:query">
        <div class='row text-center form-inline'>
          <div class='col-xs-2'>
            {{product.category.name}}
          </div>
          <div class='col-xs-3'>
            {{product.name}}
          </div>
          <div class='col-xs-3'>
            {{product.unit}}
          </div>
          <div class='col-xs-2'>
            {{product.price}}
          </div>
          <div class='col-xs-2 h5'>
            <a href='#/updateProduct/{{product.name}}'>
              <span class='glyphicon glyphicon-pencil text-justify'></span>
            </a>
            <a href='#/productManage'>
              <span class='glyphicon glyphicon-remove text-danger' ng-click="remove($index)"></span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade mymodal" tabindex="-1" role="dialog"
       aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
            class="sr-only">Close</span></button>
          <h3 class="modal-title" id="myModalLabel">
            <span>Add product</span>
          </h3>
        </div>
        <div class="modal-body">
          <form role="form">
            <div class="row form-group text-center">
              <div class="col-xs-3 h4">name</div>
              <div class="col-xs-9"><input ng-model="product.name" required class="form-control"></div>
            </div>
            <div class="row form-group text-center">
              <div class="col-xs-3 h4">unit</div>
              <div class="col-xs-9"><input ng-model="product.unit" required class="form-control"></div>
            </div>
            <div class="row form-group text-center">
              <div class="col-xs-3 h4">price</div>
              <div class="col-xs-9"><input type="number" ng-model="product.price" required class="form-control"></div>
            </div>
            <div class="row form-group text-center">
              <div class="col-xs-3 h4">category</div>
              <div class="col-xs-9">
                <select class="form-control" ng-model='product.categoryId'>
                  <option value={{category.id}} ng-repeat="category in categories">
                    {{category.name}}
                  </option>
                </select>
              </div>
            </div>
            <div class="row form-group text-right">
              <input type="submit" ng-click="add()" class="btn btn-primary" data-dismiss="modal" value="Add">
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>
